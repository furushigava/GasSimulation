# Документация: Корреляционные графики анализа данных

## Общее описание
Модуль `update_correlation_graphs` предоставляет 5 типов корреляционных графиков для анализа взаимосвязей между различными физическими параметрами системы: давлением (P), объемом (V) и температурой (T). Эти графики помогают выявить статистические зависимости и временные связи между переменными.

---

## 1. Корреляция P-V (Давление-Объем)

### Что это такое?
Диаграмма рассеяния, показывающая взаимосвязь между давлением и объемом системы. Наиболее важный график для анализа поведения газов.

### Как читать график:
- **Ось X**: Объем (V)
- **Ось Y**: Давление (P)
- **Каждая точка**: Пара значений (V, P) в определенный момент времени
- **Красная линия**: Линейная регрессия (y = ax + b)

### Интерпретация:
- **Отрицательный наклон**: P ~ 1/V (закон Бойля-Мариотта для изотермического процесса)
- **Положительный наклон**: Рост P и V одновременно (возможно, при нагреве)
- **Наклон ≈ 0**: Слабая зависимость P от V
- **Коэффициент a** в уравнении регрессии:
  - a < 0: Обратная зависимость
  - a > 0: Прямая зависимость
  - a ≈ 0: Независимость

### Физический смысл:
- **Идеальный газ (изотерма)**: Гиперболическая зависимость P ~ 1/V
- **Реальный газ**: Отклонения от гиперболы
- **Фазовые переходы**: Скачки или плато на кривой

---

## 2. Корреляция P-T (Давление-Температура)

### Что это такое?
Анализ зависимости давления от температуры при постоянном объеме.

### Как читать график:
- **Ось X**: Температура (T)
- **Ось Y**: Давление (P)
- **Каждая точка**: Пара значений (T, P) в момент времени

### Интерпретация:
- **Положительный наклон**: P ~ T (закон Гей-Люссака для изохорного процесса)
- **Наклон ≈ 0**: Слабая температурная зависимость давления
- **Рассеяние точек**: Показывает точность соблюдения закона

### Физический смысл:
- **Идеальный газ**: Прямая пропорциональность P ~ T
- **Коэффициент наклона**: Зависит от количества вещества и объема
- **Отклонения от линейности**: Могут указывать на:
  - Изменение объема
  - Фазовые переходы
  - Неидеальность газа

---

## 3. Корреляция V-T (Объем-Температура)

### Что это такое?
Анализ зависимости объема от температуры при постоянном давлении.

### Как читать график:
- **Ось X**: Температура (T)
- **Ось Y**: Объем (V)
- **Каждая точка**: Пара значений (T, V)

### Интерпретация:
- **Положительный наклон**: V ~ T (закон Шарля для изобарного процесса)
- **Наклон ≈ 0**: Объем слабо зависит от температуры
- **Пересечение с осью T**: Теоретическая температура абсолютного нуля

### Физический смысл:
- **Идеальный газ**: Линейная зависимость V ~ T
- **Термическое расширение**: Коэффициент расширения газа
- **Изобарный процесс**: Постоянное давление
- **Аномалии**: Отклонения могут указывать на:
  - Изменение давления
  - Конденсацию/испарение
  - Химические реакции

---

## 4. Автокорреляция давления

### Что это такое?
Мера зависимости текущих значений давления от его прошлых значений. Показывает "память" системы.

### Как читать график:
- **Ось X**: Лаг (временной сдвиг в шагах измерения)
- **Ось Y**: Коэффициент автокорреляции (нормированный)
- **Значение при lag=0**: Всегда 1 (полная корреляция с самим собой)

### Интерпретация:
- **Быстрое затухание** (к 0 за несколько лагов): Короткая память, хаотичное поведение
- **Медленное затухание**: Долгосрочные корреляции, персистентность
- **Осцилляции**: Периодические составляющие
- **Отрицательные значения**: Антикорреляции

### Характерные паттерны:
- **Экспоненциальное затухание**: Марковский процесс
- **Степенной закон**: Долгосрочные корреляции (фрактальный шум)
- **Периодические пики**: Скрытые периодичности
- **Плато**: Нестационарность ряда

### Практическое значение:
- **Время корреляции**: Лаг, при котором автокорреляция падает до 1/e ≈ 0.37
- **Периодичность**: Расстояние между пиками = период
- **Предсказуемость**: Высокая автокорреляция = более предсказуемая система

---

## 5. Взаимная корреляция P и V

### Что это такое?
Мера синхронности или временного сдвига между изменениями давления и объема.

### Как читать график:
- **Ось X**: Лаг (положительный = P опережает V, отрицательный = V опережает P)
- **Ось Y**: Коэффициент кросс-корреляции
- **Центр графика** (lag=0): Мгновенная корреляция

### Интерпретация:
- **Пик в центре** (lag=0): Мгновенная связь P и V
- **Пик при положительном lag**: Изменения P предшествуют изменениям V
- **Пик при отрицательном lag**: Изменения V предшествуют изменениям P
- **Несколько пиков**: Сложная динамика с разными временными масштабами

### Физический смысл:
- **Идеальный газ (быстрые процессы)**: Пик при lag=0
- **Тепловые процессы**: Задержки из-за теплопереноса
- **Механические инерции**: Задержки из-за инерции движения
- **Фазовые переходы**: Сложные паттерны корреляции

### Определение временного сдвига:
- **Положение максимального пика**: Временной сдвиг между P и V
- **Амплитуда пика**: Сила связи при данном сдвиге
- **Ширина пика**: Устойчивость временного соотношения

---

## Общие рекомендации по анализу

### Требования к данным:
- Минимум 10 точек для корреляционного анализа
- Для регрессии P-V нужен достаточный разброс по объему (x_range > 1e-10)
- Для взаимной корреляции P и V требуется одинаковая длина рядов

### Типичные сценарии:

1. **Изотермический процесс**:
   - P-V: Обратная зависимость (гипербола)
   - P-T: Слабая зависимость
   - V-T: Слабая зависимость

2. **Изохорный процесс** (постоянный объем):
   - P-V: Вертикальная линия (V = const)
   - P-T: Прямая пропорциональность
   - V-T: Горизонтальная линия

3. **Изобарный процесс** (постоянное давление):
   - P-V: Горизонтальная линия
   - P-T: Горизонтальная линия
   - V-T: Прямая пропорциональность

4. **Адиабатический процесс**:
   - P-V: Крутая степенная зависимость
   - Быстрые изменения, затухающая автокорреляция

### Практическое применение:

#### Для определения типа процесса:
1. Смотрите P-V диаграмму:
   - Гипербола → Изотерма
   - Вертикаль → Изохора
   - Горизонталь → Изобара
   - Степенная кривая → Адиабата

2. Анализируйте автокорреляцию:
   - Долгое затухание → Медленные изменения
   - Быстрое затухание → Быстрые, хаотичные изменения
   - Осцилляции → Периодические компоненты

3. Используйте взаимную корреляцию:
   - Определяйте причинно-следственные связи
   - Находите временные задержки в системе
   - Выявляйте скрытые периодичности

#### Для контроля качества данных:
- Проверяйте согласованность зависимостей
- Выявляйте аномалии (выбросы)
- Контролируйте выполнение физических законов

#### Для оптимизации системы:
- Определяйте оптимальные параметры работы
- Выявляйте нежелательные корреляции
- Оптимизируйте временные характеристики

### Валидация результатов:
1. **Согласованность**: Все три корреляции (P-V, P-T, V-T) должны быть физически согласованы
2. **Автокорреляция**: Должна соответствовать ожидаемой динамике системы
3. **Взаимная корреляция**: Временные сдвиги должны иметь физическое объяснение

Эти корреляционные графики вместе образуют мощный инструмент для анализа динамики системы, позволяя не только визуализировать зависимости, но и количественно оценивать временные связи и предсказуемость поведения.